<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book Shelves App</title>
    <link rel="stylesheet" href="./assets/css/index.css" />
    <!-- Bootstrap Icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css" />
</head>

<body>
    <header>
        <div style="width: 100%">
            <h1>Book Shelves App</h1>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center">
            <input class="form-input" type="text" name="title" placeholder="Search book" required />
            <div style="
            color: white;
            width: 25px;
            height: 25px;
            cursor: pointer;
            padding: 0 15px;
          ">
                <i class="bi bi-search"></i>
            </div>
        </div>
    </header>
    <main class="main-container" style="display: flex; flex-direction: row; width: 100%; height: 85vh">
        <section class="book-shelf-container">
            <div class="book-shelf">
                <div class="book-shelf-title" style="border-bottom: 2px solid royalblue">
                    <p>Input Book Data</p>
                </div>
                <form class="input-book-form" action="" style="display: flex; flex-direction: column">
                    <label>Book Title <b style="color: orange">*</b></label>
                    <input class="form-input" type="text" name="title" required />
                    <label>Book Author <b style="color: orange">*</b></label>
                    <input class="form-input" type="text" name="author" required />
                    <label>Release Year <b style="color: orange">*</b></label>
                    <input class="form-input" type="text" name="year" required />
                    <div class="form-check">
                        <input type="checkbox" name="isComplete" />
                        <label>Done Reading</label>
                    </div>
                    <button id="book-submit" class="form-button">Input Data</button>
                    <span style="color: orange; margin: 15px 0"><b>*</b> required</span>
                </form>
            </div>
        </section>
        <section class="book-shelf-container">
            <div class="book-shelf">
                <div class="book-shelf-title" style="border-bottom: 2px solid orange">
                    <p>Not Done</p>
                </div>
                <div id="notdone" class="book-shelf-content"></div>
            </div>
            <div class="book-shelf">
                <div class="book-shelf-title" style="border-bottom: 2px solid green">
                    <p>Done</p>
                </div>
                <div id="done" class="book-shelf-content">
                    <div class="book">
                        <p>title: "Harry Potter and the Philosopher's Stone"</p>
                        <p>author: "J.K Rowling"</p>
                        <p>year: 1997</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer style="
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
      ">
        <p style="margin: 0; padding: 5px">
            &copy; Copyright 2022 | Tjipto Steven Senjaya
        </p>
    </footer>
    <script>
        const popular = async() => {
            try {
                let res = await fetch(
                    "https://api.themoviedb.org/3/list/8210332?api_key=d4538f936ffc326e6145626accc8d24d"
                ).then((re) => re.json());
                await console.log(res);
            } catch (error) {
                console.log(error);
            }
        };
        popular();
        const books = [{
            id: 3657848524,
            title: "Harry Potter and the Philosopher's Stone",
            author: "J.K Rowling",
            year: 1997,
            isComplete: false,
        }, {
            id: 365784852,
            title: "Captain America",
            author: "J.K Rowling",
            year: 1997,
            isComplete: true,
        }, {
            id: 36578485,
            title: "Superman",
            author: "J.K Rowling",
            year: 1997,
            isComplete: false,
        }, {
            id: 3657848,
            title: "Batman",
            author: "J.K Rowling",
            year: 1997,
            isComplete: true,
        }, ];

        let button = document.getElementById("book-submit");
        button.addEventListener("click", addBook);

        let notDoneContent = document.getElementById("notdone");
        let doneContent = document.getElementById("done");

        function addBook(params) {
            let div = document.createElement("div");
            div.classList.add("book");
        }

        function bookNotDone() {
            let notDoneArray = books.filter((f) => f.isComplete === false);
            // book detail input
            let div = document.createElement("div");
            let div1 = document.createElement("div");
            let div2 = document.createElement("div");
            let br = document.createElement("br");
            let small = document.createElement("small");
            let divDel = document.createElement("div");
            let divNot = document.createElement("div");
            let divDone = document.createElement("div");
            let iDel = document.createElement("i");
            let iNot = document.createElement("i");
            let iDone = document.createElement("i");
            div.className = "book";
            div.id = notDoneArray[0].id;

            div1.className = "book-detail";
            div.appendChild(div1);
            div1.innerHTML = notDoneArray[0].title;
            small.textContent =
                "~ " + notDoneArray[0].author + " - " + notDoneArray[0].year;
            div1.appendChild(br);
            div1.appendChild(small);

            div2.className = "book-control";
            divDel.className = "book-delete";
            divNot.className = "book-notdone";
            divDone.className = "book-done";
            iDel.className = "bi bi-x-square";
            iNot.className = "bi bi-dash-square";
            iDone.className = "bi bi-check-square";
            div.appendChild(div2);
            div2.appendChild(divDel);
            div2.appendChild(divNot);
            div2.appendChild(divDone);
            divDel.appendChild(iDel);
            divNot.appendChild(iNot);
            divDone.appendChild(iDone);

            console.log(div);

            // render to book content div
            notDoneContent.appendChild(div);
            return notDoneArray;
        }
        console.log(bookNotDone());

        function bookDone() {
            let doneArray = books.filter((f) => f.isComplete === true);
            let div = document.createElement("div");
            div.classList.add("book");
        }

        let input = document.getElementById("todo-input");
        let output = document.getElementById("todo-output");

        // TODO: Buatlah sebuah fungsi dengan nama fnClickHandler
        // Fungsi yang digunakan untuk menambahkan tulisan
        // Jangan ubah cara deklarasi fungsinya, cukup isi saja
        function fnClickHandler(toDoItem) {
            let li = document.createElement("li");
            li.classList.add("todo-list");

            function inputValue() {
                li.innerHTML = input.value;
                output.appendChild(li);
                input.value = "";
            }
            if (toDoItem.type === "click") {
                inputValue();
            } else if (toDoItem.key === "Enter") {
                inputValue();
            }
        }
    </script>
</body>

</html>